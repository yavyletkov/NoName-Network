{"version":3,"sources":["components/Users/Users.module.scss","components/common/Paginator/Paginator.module.css","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","totalItemsCount","pageSize","currentPage","onPageClick","urlPrefix","pagesCount","Math","ceil","pages","i","push","value","label","useState","betterType","setBetterType","className","s","btn","onClick","selectField","options","onSelect","item","paginator","map","to","key","activePage","page","Users","props","console","log","users","totalUsersCount","usersWrapper","usersData","id","userCard","ava","alt","name","src","photos","large","cardBody","followFooter","followed","disabled","followingIsInProgress","inProgress","some","a","onUnFollowClick","onFollowClick","getUsersData","state","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetchingUsers","isFetching","getFollowingIsInProgress","getInProgress","UsersContainer","pageNumber","setPage","requestUsers","requestFollow","requestUnFollow","this","match","params","Preloader","followUser","unFollowUser","React","Component","connect","toggleFollowingIsInProgress","withAuthRedirect"],"mappings":"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","file":"static/js/3.b9e226be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3CRqz\",\"usersWrapper\":\"Users_usersWrapper__343ba\",\"userCard\":\"Users_userCard__2mlKw\",\"name\":\"Users_name__3WppJ\",\"ava\":\"Users_ava__2c-Fm\",\"cardBody\":\"Users_cardBody__2oy9q\",\"followFooter\":\"Users_followFooter__1b3WT\",\"id\":\"Users_id__hEB_E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Paginator_page__2aOm1\",\"activePage\":\"Paginator_activePage__3BwkH\",\"paginator\":\"Paginator_paginator__18P4_\",\"btn\":\"Paginator_btn__C1fmc\",\"selectField\":\"Paginator_selectField__2Z1wg\"};","import s from \"./Paginator.module.css\";\nimport React, {useState} from \"react\";\nimport Select from 'react-select'\nimport {NavLink} from \"react-router-dom\";\n\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageClick, urlPrefix}) => {\n\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push({value: i, label: i});\n    }\n\n    let [betterType, setBetterType] = useState(false)\n\n    let activateBetterType = () => {\n        setBetterType(true)\n    }\n\n    let disactivateBetterType = () => {\n        setBetterType(false)\n    }\n\n    return (\n        <div>\n\n            <button className={s.btn} onClick={betterType?disactivateBetterType:activateBetterType}>{betterType?'Show pages in LINE':'Show pages in LIST'}</button>\n\n            {betterType ?\n                <div className={s.selectField}>\n                    <Select options={pages} onSelect={(item) => onPageClick(item.value)} />\n                </div>\n                :\n                <div className={s.paginator}>\n                    {pages.map(item => {\n                        return <NavLink to={`/${urlPrefix}/${item.value}`}><span key={item.value} onClick={() => onPageClick(item.value)}\n                                     className={+currentPage === item.value ? s.activePage : s.page}> {item.value} </span>\n                        </NavLink>\n                    })}\n                </div>\n            }\n\n        </div>\n    )\n};\n\nexport default Paginator","import s from \"./Users.module.scss\";\nimport React from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport Paginator from \"../common/Paginator/Paginator\";\n\nconst Users = (props) => {\n\n    console.log('current page in state: ', props.currentPage)\n\n    return <div className={s.users}>\n\n        <Paginator totalItemsCount={props.totalUsersCount}\n                   pageSize={props.pageSize} onPageClick={props.onPageClick}\n                   currentPage={props.currentPage} urlPrefix={'users'}/>\n\n        <div className={s.usersWrapper}>\n\n\n            {props.usersData.map(item => {\n                return <div key={item.id} className={s.userCard}>\n\n                    <NavLink to={'/profile/' + item.id}>\n                        <img className={s.ava}\n                             alt={item.name}\n                             src={item.photos.large ? item.photos.large : 'https://www.nelson-chambers.co.uk/front/images/default-user.jpg'}/>\n                    </NavLink>\n\n                    <div className={s.cardBody}>\n\n                        <div className={s.name}> {item.name} </div>\n                        <div className={s.id}> id: {item.id} </div>\n                    </div>\n\n                    <div className={s.followFooter}>\n                        {item.followed ?\n                            <button\n                                disabled={props.followingIsInProgress && props.inProgress.some(a => a === item.id)}\n                                onClick={() => props.onUnFollowClick(item.id)}>\n                                UNFOLLOW\n                            </button> :\n                            <button\n                                disabled={props.followingIsInProgress && props.inProgress.some(a => a === item.id)}\n                                onClick={() => props.onFollowClick(item.id)}>\n                                FOLLOW\n                            </button>\n                        }\n                    </div>\n\n                </div>\n            })}\n        </div>\n\n    </div>\n}\n\nexport default Users;","export const getUsersData = (state) => {\n    return state.users.usersData\n}\nexport const getPageSize = (state) => {\n    return state.users.pageSize\n}\nexport const getTotalUsersCount = (state) => {\n    return state.users.totalUsersCount\n}\nexport const getCurrentPage = (state) => {\n    return state.users.currentPage\n}\nexport const getIsFetchingUsers = (state) => {\n    return state.users.isFetching\n}\nexport const getFollowingIsInProgress = (state) => {\n    return state.users.followingIsInProgress\n}\n\nexport const getInProgress = (state) => {\n    return state.users.inProgress\n}","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader\";\nimport {\n    followUser,\n    unFollowUser,\n    setPage,\n    toggleFollowingIsInProgress,\n    requestUsers,\n    requestFollow,\n    requestUnFollow\n} from \"../../redux/usersReducer\"\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {\n    getCurrentPage, getFollowingIsInProgress, getInProgress,\n    getIsFetchingUsers,\n    getPageSize,\n    getTotalUsersCount,\n    getUsersData\n} from \"../../redux/usersSelectors\";\n\n// МЕТОДОМ SOME ДОБАВИТЬ ОТДЕЛЬНО ДИЗЕБЛЮЮЩИЕСЯ КНОПКИ ПОДПИСКИ\n\n\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        let page = this.props.match.params.page ? this.props.match.params.page : this.props.currentPage;\n        this.props.setPage(page);\n        this.props.requestUsers(this.props.pageSize, page)\n    }\n\n    onPageClick = (pageNumber) => {\n        this.props.setPage(pageNumber);\n        this.props.requestUsers(this.props.pageSize, pageNumber);\n    }\n\n    onFollowClick = (id) => {\n        this.props.requestFollow(id);\n    }\n\n    onUnFollowClick = (id) => {\n        this.props.requestUnFollow(id);\n    }\n\n    render() {\n\n        return <>\n            { this.props.isFetching === true ? <Preloader/> : null }\n            <Users onPageClick={ this.onPageClick }\n                      onFollowClick={this.onFollowClick}\n                      onUnFollowClick={this.onUnFollowClick}\n                      usersData={ this.props.usersData }\n                      pageSize={ this.props.pageSize }\n                      totalUsersCount={ this.props.totalUsersCount}\n                      currentPage={ this.props.currentPage }\n                      followUser={ this.props.followUser}\n                      unFollowUser={this.props.unFollowUser}\n                      followingIsInProgress={this.props.followingIsInProgress}\n                      inProgress={this.props.inProgress}\n                      setPage={this.props.setPage}\n            />\n            </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        usersData: getUsersData(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetchingUsers(state),\n        followingIsInProgress: getFollowingIsInProgress(state),\n        inProgress: getInProgress(state)\n    }\n}\n\nexport default connect(mapStateToProps, {\n    followUser, unFollowUser,\n    setPage, toggleFollowingIsInProgress,\n    requestUsers, requestFollow, requestUnFollow\n})(withAuthRedirect(UsersContainer))\n\n\n"],"sourceRoot":""}