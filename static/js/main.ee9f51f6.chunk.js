(this.webpackJsonpnonamenetwork=this.webpackJsonpnonamenetwork||[]).push([[0],{108:function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return b}));var n=a(39),r=a(2),o=a(13),s={usersData:[],pageSize:25,totalUsersCount:0,currentPage:1,isFetching:!1,followingIsInProgress:!1,inProgress:[]},c=function(e,t){return function(a){a(d(!0)),a(f(t)),o.c.getUsers(e,t).then((function(e){a(p(e.items,e.totalCount)),a(d(!1))}))}},i=function(e){return function(t){t(d(!0)),t(b(!0)),t(E(e)),o.c.follow(e).then((function(a){a.resultCode?alert("\u043e\u0448\u0438\u0431\u043a\u0430"):t(l(e)),t(d(!1)),t(b(!1)),t(h(e))}))}},u=function(e){return function(t){t(d(!0)),t(b(!0)),t(E(e)),o.c.unFollow(e).then((function(a){a.resultCode?alert("\u043e\u0448\u0438\u0431\u043a\u0430"):t(m(e)),t(d(!1)),t(b(!1)),t(h(e))}))}},l=function(e){return{type:"FOLLOW-USER",id:e}},m=function(e){return{type:"UNFOLLOW-USER",id:e}},p=function(e,t){return{type:"SET-USERS",usersData:e,totalUsersCount:t}},f=function(e){return{type:"SET-PAGE",page:e}},d=function(e){return{type:"TOGGLE-IS-FETCHING",status:e}},b=function(e){return{type:"TOGGLE-FOLLOWING-IS-IN-PROGRESS",status:e}},E=function(e){return{type:"PUSH-IN-PROGRESS",id:e}},h=function(e){return{type:"CLEAR-IN-PROGRESS",id:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW-USER":return Object(r.a)(Object(r.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW-USER":return Object(r.a)(Object(r.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(r.a)(Object(r.a)({},e),{},{usersData:t.usersData,totalUsersCount:t.totalUsersCount});case"SET-PAGE":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.page});case"TOGGLE-IS-FETCHING":return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.status});case"TOGGLE-FOLLOWING-IS-IN-PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{followingIsInProgress:t.status});case"PUSH-IN-PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{inProgress:[].concat(Object(n.a)(e.inProgress),[t.id])});case"CLEAR-IN-PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{inProgress:Object(n.a)(e.inProgress.filter((function(e){return e!==t.id})))});default:return e}}},13:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c}));var n=a(136),r=n.create({withCredentials:!0,headers:{"API-KEY":"ce423fd9-d4fe-4c31-a25f-9b99ed821eb8"},baseURL:"https://social-network.samuraijs.com/api/1.0"}),o={getUsers:function(e,t){return r.get("/users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("/follow/".concat(e)).then((function(e){return e.data}))},unFollow:function(e){return r.delete("/follow/".concat(e)).then((function(e){return e.data}))}},s={getProfile:function(e){return r.get("/profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return r.get("/profile/status/".concat(e)).then((function(e){return e.data}))},updateUserStatus:function(e){return r.put("/profile/status",{status:e}).then((function(e){return e.data}))},updateUserPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},updateUserInfo:function(e){return r.put("/profile",e).then((function(e){return e.data}))}},c={me:function(){return r.get("/auth/me").then((function(e){return e.data}))},login:function(e,t,a){return r.post("/auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},logout:function(){return r.delete("/auth/login").then((function(e){return e.data}))}}},131:function(e,t,a){e.exports=a.p+"static/media/default-user.0f8e789e.jpg"},140:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__2xRSA"}},141:function(e,t,a){e.exports={chatList:"ChatList_chatList__7ib65"}},142:function(e,t,a){e.exports={message:"Message_message__2MFzr"}},143:function(e,t,a){e.exports={profile:"Profile_profile__3dzvr"}},144:function(e,t,a){e.exports=a.p+"static/media/outline_favorite_black_18dp.bf5dfc3b.png"},145:function(e,t,a){e.exports={profile:"ProfileMain_profile__M_8n2"}},146:function(e,t,a){e.exports=a.p+"static/media/preloader.3c6b6920.svg"},147:function(e,t,a){e.exports={navbarFriendList:"NavbarFriendList_navbarFriendList__30dlk"}},148:function(e,t,a){e.exports=a.p+"static/media/baseline_person_black_18dp.bf3ef648.png"},149:function(e,t,a){e.exports=a.p+"static/media/baseline_chat_black_18dp.ec894fd0.png"},150:function(e,t,a){e.exports=a.p+"static/media/baseline_view_agenda_black_18dp.596ed38b.png"},151:function(e,t,a){e.exports=a.p+"static/media/baseline_group_black_18dp.99dfa5cf.png"},152:function(e,t,a){e.exports=a.p+"static/media/baseline_audiotrack_black_18dp.6b11ce1c.png"},153:function(e,t,a){e.exports=a.p+"static/media/baseline_settings_black_18dp.1309c908.png"},154:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__3Cr7b"}},18:function(e,t,a){e.exports={userInfo:"UserInfo_userInfo__3Tkif",jobAndAboutMeWrapper:"UserInfo_jobAndAboutMeWrapper__hMp64",contactsWrapper:"UserInfo_contactsWrapper__HNZ0o",noInfo:"UserInfo_noInfo__2Smhx",activateEditModeButton:"UserInfo_activateEditModeButton__raGec",materialIcons:"UserInfo_materialIcons__1nqc7"}},180:function(e,t,a){e.exports=a(304)},19:function(e,t,a){e.exports={editInfoForm:"EditInfoForm_editInfoForm__1Grlu",jobAndAboutMeContainer:"EditInfoForm_jobAndAboutMeContainer__1OoCD",contactsWrapper:"EditInfoForm_contactsWrapper__1tvZR",field:"EditInfoForm_field__3kKaI",summaryError:"EditInfoForm_summaryError__KKFL2",saveChangesButton:"EditInfoForm_saveChangesButton__BOxYi"}},262:function(e,t,a){},27:function(e,t,a){e.exports={loginForm:"LoginForm_loginForm__2odaZ",field:"LoginForm_field__19mbA",error:"LoginForm_error__1fkG8",checkboxText:"LoginForm_checkboxText__3qLGi",label:"LoginForm_label__2F0OV",checkbox:"LoginForm_checkbox__39grx",button:"LoginForm_button__19IMv",errorSpan:"LoginForm_errorSpan__3OLQl",warningSpan:"LoginForm_warningSpan__1zvPE",summaryError:"LoginForm_summaryError__3gaP5"}},304:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(7),r=a(135),o=a(39),s=a(2),c=a(13),i=a(28),u={postsData:[{id:1,text:"\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"},{id:2,text:"\u042f \u0442\u0435\u0431\u0435 \u0441\u043a\u0430\u0436\u0443, \u0431\u0435\u0437\u0434\u0435\u043b\u044c\u0435 - \u044d\u0442\u043e \u0438\u0433\u0440\u0443\u0448\u043a\u0430 \u0434\u044c\u044f\u0432\u043e\u043b\u0430, \u044d\u0442\u043e \u0432\u043e-\u043f\u0435\u0440\u0432\u044b\u0445. \u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0437\u0430\u043d\u0438\u043c\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u043f\u043e\u0440\u0442\u043e\u043c, \u043d\u0435 \u043d\u0430\u0434\u043e \u0442\u0430\u043c \u043f\u043e \u0443\u0433\u043b\u0430\u043c \u043a\u0443\u0440\u0438\u0442\u044c, \u0448\u0430\u0431\u0438\u0442\u044c, \u0434\u0440\u043e\u0447\u0438\u0442\u044c, \u043c\u0430\u0441\u0442\u0443\u0440\u0431\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043c\u043d\u043e\u0433\u0438\u0435 \u043e\u0434\u043d\u043e \u0438 \u0442\u043e \u0436\u0435, \u0435\u0441\u0442\u044c \u0436\u0438, \u043f\u0440\u043e\u0441\u0442\u043e \u0431\u0435\u0437\u0434\u0435\u043b\u044c\u0435 - \u044d\u0442\u043e \u0438\u0433\u0440\u0443\u0448\u043a\u0430 \u0434\u044c\u044f\u0432\u043e\u043b\u0430, \u044f \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0441\u044c \u0435\u0436\u0438 \u043d\u0443 \u0432\u0435\u0441\u044c \u043c\u0438\u0440 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0438\u0432 \u043c\u0435\u043d\u044f \u044f \u043f\u0440\u0430\u0432 \u0435\u0436\u0438 \u044f \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u044e\u0441\u044c \u044d\u0442\u0438\u043c \u0435\u0436\u0438 \u0430 \u0442\u0430\u043a \u043f\u0430\u0446\u0430\u043d\u044b \u0433\u043e\u043b\u043e\u0432\u0443 \u043d\u0435 \u0442\u0435\u0440\u044f\u0439\u0442\u0435 \u0432\u043e \u043f\u0435\u0440\u0432\u044b\u0445 \u0438 \u0432\u0441\u0435\u0445 \u0431\u043b\u0430\u0433 \u0432\u0430\u043c?"},{id:3,text:"\u0435\u0431\u043e\u043c\u043e\u043d\u044b\u0439 \u043e\u0431\u044d\u043c\u0430 \u0431\u043b\u044f\u0434\u044c"},{id:4,text:"\u042f \u0432 \u0441\u0432\u043e\u0451\u043c \u043f\u043e\u0437\u043d\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u043b\u0441\u044f, \u0447\u0442\u043e \u043a\u0430\u043a \u0431\u0443\u0434\u0442\u043e \u0431\u044b \u0443\u0436\u0435 100 \u0442\u0440\u0438\u043b\u043b\u0438\u043e\u043d\u043e\u0432 \u043c\u0438\u043b\u043b\u0438\u0430\u0440\u0434\u043e\u0432 \u043b\u0435\u0442 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u044e \u043d\u0430 \u0442\u0440\u0438\u043b\u043b\u0438\u043e\u043d\u0430\u0445 \u0438 \u0442\u0440\u0438\u043b\u043b\u0438\u043e\u043d\u0430\u0445 \u0442\u0430\u043a\u0438\u0445 \u0436\u0435 \u043f\u043b\u0430\u043d\u0435\u0442, \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0448\u044c?"}],isFetching:!1,userID:"",userStatus:"",userInfo:{aboutMe:null,contacts:{},fullName:"",lookingForAJob:!1,lookingForAJobDescription:null,photos:{small:"",large:""},userId:null}},l=function(e,t){return{type:"SET-USER-INFO",userInfo:e,withoutPhotos:t}},m=function(e){return{type:"TOGGLE-IS-FETCHING",status:e}},p=function(e){return{type:"SET-USER-STATUS",userStatus:e}},f=function(e){return{type:"SET-USER-ID",userID:e}},d=function(e){return{type:"SET-NEW-USER-PHOTOS",photos:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":if(t.postText){var a=Object(s.a)(Object(s.a)({},e),{},{postsData:[].concat(Object(o.a)(e.postsData),[{id:e.postsData[e.postsData.length-1].id+1,text:t.postText}])});return a}return e;case"TOGGLE-IS-FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.status});case"SET-USER-INFO":if(t.withoutPhotos){var n=e.userInfo.photos;return Object(s.a)(Object(s.a)({},e),{},{userInfo:Object(s.a)(Object(s.a)({},t.userInfo),{},{photos:n})})}return Object(s.a)(Object(s.a)({},e),{},{userInfo:Object(s.a)({},t.userInfo)});case"SET-USER-ID":return Object(s.a)(Object(s.a)({},e),{},{userID:t.userID});case"SET-USER-STATUS":return Object(s.a)(Object(s.a)({},e),{},{userStatus:t.userStatus});case"SET-NEW-USER-PHOTOS":return Object(s.a)(Object(s.a)({},e),{},{userInfo:Object(s.a)(Object(s.a)({},e.userInfo),{},{photos:t.photos})});default:return e}},E={messagesData:[{id:1,text:"\u041f\u0440\u0438\u0432\u0435\u0442"},{id:2,text:"\u0427\u0435 \u043a\u0430\u043a \u0441\u0430\u043c?"},{id:3,text:"\u041e\u0439 \u0432\u0441\u0451"},{id:4,text:"\u041f\u043e\u043a\u0430, \u0443\u0440\u043e\u0434"}],newMessageText:"\u0445\u0443\u0439",chatListData:[{id:1,name:"\u041d\u0438\u043d\u0430",surname:"\u0418\u0432\u0430\u043d\u043e\u0432\u0430"},{id:2,name:"\u041f\u0435\u0442\u044f",surname:"\u0412\u0430\u0441\u0438\u043d"},{id:3,name:"\u0416\u043e\u0440\u0430",surname:"\u041a\u0438\u0440\u0438\u043b\u043b\u043e\u0432"},{id:4,name:"\u0412\u0435\u0440\u0430",surname:"\u0414\u0438\u043c\u043e\u0432\u0430"},{id:5,name:"\u0422\u0430\u043d\u044f",surname:"\u0422\u0430\u043d\u0438\u043d\u0430"}]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":if(t.messageText){var a=Object(s.a)(Object(s.a)({},e),{},{messagesData:[].concat(Object(o.a)(e.messagesData),[{id:e.messagesData[e.messagesData.length-1].id+1,text:t.messageText}])});return a}return e;case"UPDATE-NEW-MESSAGE-TEXT":var n=Object(s.a)(Object(s.a)({},e),{},{newMessageText:t.text});return n;default:return e}},g={friendsData:[{id:1,name:"\u041d\u0438\u043d\u0430",surname:"\u0418\u0432\u0430\u043d\u043e\u0432\u0430"},{id:2,name:"\u0412\u0430\u0441\u044f",surname:"\u0412\u0430\u0441\u0438\u043d"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return t.type,e},v=a(108),I={userID:null,email:null,login:null,isFetching:!1,isAuth:!0},S=function(){return function(e){return e(F(!0)),c.a.me().then((function(t){0===t.resultCode?(e(N(t.data.id,t.data.email,t.data.login)),e(x())):e(j()),e(F(!1))}))}},O=function(){return function(e){e(F(!0)),c.a.logout().then((function(t){0===t.resultCode&&(e(N(null,null,null)),e(j())),e(F(!1))}))}},N=function(e,t,a){return{type:"SET-AUTH-DATA",authData:{userID:e,email:t,login:a}}},j=function(){return{type:"SET-IS-AUTH-FALSE"}},x=function(){return{type:"SET-IS-AUTH-TRUE"}},F=function(e){return{type:"TOGGLE-IS-FETCHING",status:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH-DATA":return Object(s.a)(Object(s.a)({},e),t.authData);case"TOGGLE-IS-FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.status});case"SET-IS-AUTH-FALSE":return Object(s.a)(Object(s.a)({},e),{},{isAuth:!1});case"SET-IS-AUTH-TRUE":return Object(s.a)(Object(s.a)({},e),{},{isAuth:!0});default:return e}},A=a(134),U={isInitialized:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZATION-SUCCESSFUL":return Object(s.a)(Object(s.a)({},e),{},{isInitialized:!0});default:return e}},D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.d,T=Object(n.c)({profile:b,dialogs:h,sidebar:_,users:v.a,auth:k,form:A.a,app:w}),y=Object(n.e)(T,D(Object(n.a)(r.a)));window.store=y;var P,C,L=y,M=a(0),G=a.n(M),R=a(65),W=a.n(R),H=a(22),z=a(23),J=a(25),B=a(24),K=(a(262),a(9)),V=a(47),X=a.n(V),Z=a(29),Y=a(16),q=function(e){return e.authData.isAuth?G.a.createElement("header",{className:X.a.header},G.a.createElement("div",{className:X.a.logo},"NoNameNetwork"),G.a.createElement("div",{className:X.a.loginBlock},e.authData.isAuth?G.a.createElement(Y.b,{to:"/settings"},G.a.createElement("span",{className:X.a.login},"logged in as "),e.authData.login?e.authData.login:null):G.a.createElement(Y.b,{to:"/login"},"login ")),e.authData.isAuth?G.a.createElement("div",{onClick:e.logout,className:X.a.logout},"Logout"):null):G.a.createElement(Z.a,{to:"/login"})},Q=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){return G.a.createElement(q,this.props)}}]),a}(G.a.Component),$=Object(K.b)((function(e){return{authData:e.auth}}),{logout:O})(Q),ee=a(140),te=a.n(ee),ae=a(141),ne=a.n(ae),re=a(94),oe=a.n(re),se=function(e){return G.a.createElement(Y.b,{className:oe.a.chatPreview,to:"/dialogs/"+e.id,activeClassName:oe.a.active},e.name)},ce=function(e){var t=e.chatListData.map((function(e){return G.a.createElement(se,{key:e.id,id:e.id,name:e.name})}));return G.a.createElement("div",{className:ne.a.chatList},t)},ie=a(95),ue=a.n(ie),le=a(142),me=a.n(le),pe=function(e){return G.a.createElement("div",{className:me.a.message},e.text)},fe=a(132),de=a(133),be=a(70),Ee=a.n(be),he=Object(de.a)({form:"chat"})((function(e){return G.a.createElement("form",{className:Ee.a.chatForm,onSubmit:e.handleSubmit},G.a.createElement("span",null,G.a.createElement(fe.a,{className:Ee.a.textInput,name:"messageText",component:"input",placeholder:"Your message"})),G.a.createElement("button",{className:Ee.a.button},"Send"))})),ge=function(e){var t=e.messagesData.map((function(e){return G.a.createElement(pe,{key:e.id,id:e.id,text:e.text})}));return G.a.createElement("div",{className:ue.a.wrapper},G.a.createElement("div",{className:ue.a.chat},t),G.a.createElement(he,{onSubmit:function(t){e.sendMessage(t.messageText),t.messageText=""}}))},_e=a(67),ve=Object(n.d)(Object(K.b)((function(e){return{messagesData:e.dialogs.messagesData}}),{sendMessage:function(e){return{type:"SEND-MESSAGE",messageText:e}}}),_e.a)(ge),Ie=function(e){return G.a.createElement("div",{className:te.a.dialogs},G.a.createElement(ce,{chatListData:e.chatListData}),G.a.createElement(ve,null))},Se=a(143),Oe=a.n(Se),Ne=a(98),je=a.n(Ne),xe=a(72),Fe=a.n(xe),ke=a(144),Ae=a.n(ke),Ue=function(e){return G.a.createElement("div",{className:Fe.a.post},G.a.createElement("div",{className:Fe.a.main},e.text||"default text"),G.a.createElement("div",{className:Fe.a.footer},"0 ",G.a.createElement("img",{src:Ae.a,alt:"like"}),"| 0 reposts"))},we=a(73),De=a.n(we),Te=Object(de.a)({form:"post"})((function(e){return G.a.createElement("form",{className:De.a.postForm,onSubmit:e.handleSubmit},G.a.createElement("span",null,G.a.createElement(fe.a,{className:De.a.textInput,name:"postText",component:"input",placeholder:"What's up, dude?"})),G.a.createElement("button",{className:De.a.button},"Send"))})),ye=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"shouldComponentUpdate",value:function(e,t,a){return e!==this.props||t!==this.state}},{key:"onSubmit",value:function(e){this.props.addPost(e.postText),e.postText=""}},{key:"render",value:function(){var e=this.props.postsData.map((function(e){return G.a.createElement(Ue,{key:e.id,id:e.id,text:e.text})}));return G.a.createElement("div",{className:je.a.postsArea},G.a.createElement(Te,{onSubmit:this.onSubmit.bind(this)}),G.a.createElement("div",{className:je.a.list},e))}}]),a}(G.a.Component),Pe=Object(n.d)(Object(K.b)((function(e){return{postsData:e.profile.postsData,newPostText:e.profile.newPostText}}),{addPost:function(e){return{type:"ADD-POST",postText:e}}}),_e.a)(ye),Ce=a(145),Le=a.n(Ce),Me=a(40),Ge=a.n(Me),Re=a(34),We=a(74),He=a.n(We),ze=function(e){var t=Object(M.useState)(!1),a=Object(Re.a)(t,2),n=a[0],r=a[1],o=Object(M.useState)(e.userStatus),s=Object(Re.a)(o,2),c=s[0],i=s[1],u=Object(M.useState)(!1),l=Object(Re.a)(u,2);l[0],l[1];Object(M.useEffect)((function(){e.getUserStatus(e.id),i(e.userStatus)}),[e.userStatus,e.id]);return G.a.createElement("div",{className:He.a.statusWrapper},n?G.a.createElement("div",null,G.a.createElement("input",{onChange:function(e){i(e.currentTarget.value)},autoFocus:!0,onBlur:function(){e.updateUserStatus(c),r(!1)},value:c})):G.a.createElement("div",{onClick:function(){e.id===e.authorizedUserID&&r(!0)}},G.a.createElement("span",null," ",e.userStatus?G.a.createElement(G.a.Fragment,null,G.a.createElement("span",null,e.userStatus),G.a.createElement("span",null,e.id===e.authorizedUserID?G.a.createElement("span",{className:He.a.clickToChange},"click to change"):null)):G.a.createElement("span",{className:He.a.noStatus},e.id===e.authorizedUserID?"no status (click to change)":"no status")," ")))},Je=a(131),Be=a.n(Je),Ke=function(e){var t=e.userInfo.photos.large||Be.a;return G.a.createElement("div",{className:Ge.a.userCard},G.a.createElement("div",{className:Ge.a.userPhoto},G.a.createElement("img",{src:t,alt:""}),G.a.createElement("div",{className:Ge.a.photoUpload},e.id===e.authorizedUserID?G.a.createElement("label",{className:Ge.a.label},"CHANGE PHOTO",G.a.createElement("input",{name:"uploadPhoto",className:Ge.a.input,onChange:function(t){t.target.files.length&&e.updateUserPhoto(t.target.files[0])},type:"file"})):null)),G.a.createElement("div",{className:Ge.a.fullName},e.userInfo.fullName),G.a.createElement(ze,{authorizedUserID:e.authorizedUserID,id:e.id,userStatus:e.userStatus,getUserStatus:e.getUserStatus,updateUserStatus:e.updateUserStatus}))},Ve=a(18),Xe=a.n(Ve),Ze=a(19),Ye=a.n(Ze),qe=Object(de.a)({form:"userInfo"})((function(e){var t=function(e){var t=e.input,a=e.placeholder,n=e.type,r=e.meta;r.touched,r.error,r.warning;return G.a.createElement("span",null,G.a.createElement("input",Object.assign({},t,{className:Ye.a.field,placeholder:a,type:n})))};return G.a.createElement("form",{onSubmit:e.handleSubmit,className:Ye.a.editInfoForm},G.a.createElement("div",{className:Ye.a.jobAndAboutMeContainer},G.a.createElement("div",{className:Ye.a.fullName},G.a.createElement("b",null,"Fullname:"),G.a.createElement(fe.a,{name:"fullName",component:t,type:"text"})),G.a.createElement("div",{className:Ye.a.lookingForAJob},G.a.createElement("b",null,"Looking for a job right now:"),G.a.createElement(fe.a,{name:"lookingForAJob",component:t,type:"checkbox"})),G.a.createElement("div",{className:Ye.a.lookingForAJobDescription},G.a.createElement("b",null,"My professional skills:"),G.a.createElement(fe.a,{name:"lookingForAJobDescription",component:t,placeholder:"Tell something about your professional skills",type:"text"})),G.a.createElement("div",{className:Ye.a.aboutMe},G.a.createElement("b",null,"About Me:"),G.a.createElement(fe.a,{name:"aboutMe",component:t,placeholder:"Tell something about yourself",type:"text"}))),G.a.createElement("div",{className:Ye.a.contactsWrapper},G.a.createElement("div",null,G.a.createElement("b",null,"Github"),G.a.createElement(fe.a,{name:"github",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"VK"),G.a.createElement(fe.a,{name:"vk",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Website"),G.a.createElement(fe.a,{name:"website",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Youtube"),G.a.createElement(fe.a,{name:"youtube",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Instagram"),G.a.createElement(fe.a,{name:"instagram",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Facebook"),G.a.createElement(fe.a,{name:"facebook",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Twitter"),G.a.createElement(fe.a,{name:"twitter",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"MainLink"),G.a.createElement(fe.a,{name:"mainLink",component:t,placeholder:"",type:"text"})),G.a.createElement("button",{className:Ye.a.saveChangesButton},"SAVE CHANGES")),e.error?G.a.createElement("div",{className:Ye.a.summaryError},e.error):null)})),Qe=function(e){var t=Object(M.useState)(!1),a=Object(Re.a)(t,2),n=a[0],r=a[1],o=function(e,t){return G.a.createElement("div",{className:Xe.a.contact},G.a.createElement("b",null,e,":")," ",t||G.a.createElement("span",{className:Xe.a.noInfo},"no info"))},c={fullName:e.userInfo.fullName,lookingForAJob:e.userInfo.lookingForAJob,lookingForAJobDescription:e.userInfo.lookingForAJobDescription,aboutMe:e.userInfo.aboutMe,github:e.userInfo.contacts.github,vk:e.userInfo.contacts.vk,website:e.userInfo.contacts.website,youtube:e.userInfo.contacts.youtube,instagram:e.userInfo.contacts.instagram,facebook:e.userInfo.contacts.facebook,twitter:e.userInfo.contacts.twitter,mainLink:e.userInfo.contacts.mainLink};return n?G.a.createElement(qe,Object.assign({initialValues:Object(s.a)({},c),onSubmit:function(t){var a={aboutMe:t.aboutMe,contacts:{facebook:t.facebook,github:t.github,instagram:t.instagram,mainLink:t.mainLink,twitter:t.twitter,vk:t.vk,website:t.website,youtube:t.youtube},lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName};e.updateUserInfo(a).then((function(){r(!1)}))}},e.userInfo,{editMode:n})):G.a.createElement("div",{className:Xe.a.userInfo},G.a.createElement("div",{className:Xe.a.jobAndAboutMeWrapper},G.a.createElement("div",{className:Xe.a.lookingForAJob},G.a.createElement("b",null,"Am I looking for a job right now:")," ",e.userInfo.lookingForAJob?"yes":"no"),G.a.createElement("div",{className:Xe.a.lookingForAJobDescription},G.a.createElement("b",null,"My professional skills:")," ",e.userInfo.lookingForAJobDescription||G.a.createElement("span",{className:Xe.a.noInfo},"no info")),G.a.createElement("div",{className:Xe.a.aboutMe},G.a.createElement("b",null,"About Me:")," ",e.userInfo.aboutMe||G.a.createElement("span",{className:Xe.a.noInfo},"no info"))),G.a.createElement("div",{className:Xe.a.contactsWrapper},o("Github",e.userInfo.contacts.github),o("VK",e.userInfo.contacts.vk),o("Website",e.userInfo.contacts.website),o("Youtube",e.userInfo.contacts.youtube),o("Instagram",e.userInfo.contacts.instagram),o("Facebook",e.userInfo.contacts.facebook),o("Twitter",e.userInfo.contacts.twitter),o("MainLink",e.userInfo.contacts.mainLink),e.authorizedUserID===e.id?G.a.createElement("button",{onClick:function(){r(!0)},className:Xe.a.activateEditModeButton},"MAKE CHANGES"):null))},$e=function(e){return G.a.createElement("div",{className:Le.a.profile},G.a.createElement(Ke,e),G.a.createElement(Qe,e))},et=function(e){return G.a.createElement("main",{className:Oe.a.profile},G.a.createElement($e,e),G.a.createElement(Pe,null))},tt=a(32),at=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.authorizedUserID),this.props.getProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return G.a.createElement(G.a.Fragment,null,!0===this.props.isFetching?G.a.createElement(tt.a,null):null,G.a.createElement(et,this.props))}}]),a}(G.a.Component),nt=Object(n.d)(Object(K.b)((function(e){return{isFetching:e.profile.isFetching,userInfo:e.profile.userInfo,userStatus:e.profile.userStatus,authorizedUserID:Number(e.auth.userID),id:Number(e.profile.userID)}}),{toggleIsFetching:m,setUserInfo:l,getProfile:function(e){return function(t){e||(e=7340),t(f(e)),t(m(!0)),c.b.getProfile(e).then((function(e){t(l(e)),t(m(!1))}))}},getUserStatus:function(e){return function(t){e&&c.b.getUserStatus(e).then((function(e){e?e.resultCode?alert(e.messages[0]):t(p(e)):t(p(""))}))}},updateUserStatus:function(e){return function(t){c.b.updateUserStatus(e).then((function(a){a.resultCode?alert(a.messages[0]):t(p(e))}))}},updateUserPhoto:function(e){return function(t){c.b.updateUserPhoto(e).then((function(e){e.resultCode?alert(e.messages[0]):t(d(e.data.photos))}))}},updateUserInfo:function(e){return function(t){return c.b.updateUserInfo(e).then((function(a){if(a.resultCode){var n=a.messages.length>0?a.messages[0]:"some error";return t(Object(i.a)("userInfo",{_error:n})),alert(a.messages[0]),Promise.reject(a.messages[0])}t(l(e,!0))}))}}}),Z.f)(at),rt=a(41),ot=a.n(rt),st=a(147),ct=a.n(st),it=a(75),ut=a.n(it),lt=function(e){return G.a.createElement("div",{className:ut.a.friendPreview},G.a.createElement("div",{className:ut.a.ava}),G.a.createElement("div",{className:ut.a.name},e.name))},mt=function(e){var t=e.friendsData.map((function(e){return G.a.createElement(lt,{key:e.id,id:e.id,name:e.name})}));return G.a.createElement("div",{className:ct.a.navbarFriendList},t)},pt=a(148),ft=a.n(pt),dt=a(149),bt=a.n(dt),Et=a(150),ht=a.n(Et),gt=a(151),_t=a.n(gt),vt=a(152),It=a.n(vt),St=a(153),Ot=a.n(St),Nt=function(e){var t=function(e){var t=e.to,a=e.pageName,n=e.icon,r=Object(M.useState)(!1),o=Object(Re.a)(r,2),s=o[0],c=o[1];return G.a.createElement("div",{className:ot.a.menuItem},s?G.a.createElement("span",{className:ot.a.text},a):null,G.a.createElement(Y.b,{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},className:ot.a.icon,to:"/"+t,activeClassName:ot.a.active},G.a.createElement("img",{src:n,alt:""})))};return G.a.createElement("nav",{className:ot.a.sidebar},G.a.createElement("div",{className:ot.a.menu},G.a.createElement(t,{to:"profile",pageName:"Profile",icon:ft.a}),G.a.createElement(t,{to:"dialogs",pageName:"Dialogs",icon:bt.a}),G.a.createElement(t,{to:"feed",pageName:"Feed",icon:ht.a}),G.a.createElement(t,{to:"users",pageName:"Users",icon:_t.a}),G.a.createElement(t,{to:"music",pageName:"Music",icon:It.a}),G.a.createElement(t,{to:"settings",pageName:"Settings",icon:Ot.a})),e.isAuth?G.a.createElement(mt,{friendsData:e.state.friendsData}):null)},jt=Object(K.b)((function(e){return{authorizedUserID:e.auth.userID,state:e.sidebar,isAuth:e.auth.isAuth}}))(Nt),xt=a(154),Ft=a.n(xt),kt=a(27),At=a.n(kt),Ut=function(e){return e?void 0:"required"},wt=(P=50,function(e){return e&&e.length>P?"must be ".concat(P," characters or less"):void 0}),Dt=function(e){var t=e.input,a=e.placeholder,n=e.type,r=e.meta,o=r.touched,s=r.error,c=r.warning,i=o&&s;return G.a.createElement("div",null,G.a.createElement("input",Object.assign({},t,{className:At.a.field+" "+(i?At.a.error:""),placeholder:a,type:n})),o&&(s&&G.a.createElement("span",{className:At.a.errorSpan}," ",s," ")||c&&G.a.createElement("span",{className:At.a.warningSpan}," ",c," ")))},Tt=Object(de.a)({form:"login"})((function(e){return G.a.createElement("form",{onSubmit:e.handleSubmit,className:At.a.loginForm},G.a.createElement("div",null,G.a.createElement(fe.a,{type:"email",name:"email",component:Dt,placeholder:"Email",validate:[Ut,wt]})),G.a.createElement("div",null,G.a.createElement(fe.a,{type:"password",name:"password",component:Dt,placeholder:"Password",validate:[Ut,wt]})),G.a.createElement("div",null,G.a.createElement("label",{className:At.a.label},G.a.createElement(fe.a,{type:"checkbox",name:"rememberMe",component:"input"}),G.a.createElement("span",{className:At.a.checkboxText},"remember me"))),G.a.createElement("button",{className:At.a.button},"Login"),e.error?G.a.createElement("div",{className:At.a.summaryError},e.error):null)})),yt=function(e){return e.isAuth?G.a.createElement(Z.a,{to:"/profile"}):G.a.createElement(G.a.Fragment,null,!0===e.isFetching?G.a.createElement(tt.a,null):null,G.a.createElement("div",{className:Ft.a.loginWrapper},G.a.createElement("span",null,"SIGN UP or SIGN IN"),G.a.createElement("div",null,"https://social-network.samuraijs.com/login"),G.a.createElement(Tt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})))},Pt=Object(K.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.auth.isFetching}}),{login:function(e,t,a){return function(n){n(F(!0)),c.a.login(e,t,a).then((function(e){if(0===e.resultCode)n(S());else{var t=e.messages.length>0?e.messages[0]:"Some error";n(Object(i.a)("login",{_error:t})),n(F(!1))}}))}},logout:O})(yt),Ct=G.a.lazy((function(){return a.e(3).then(a.bind(null,307))})),Lt=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(){alert("Some error occured :(")},e}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledRejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledRejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.isInitialized?G.a.createElement(K.a,{store:L},G.a.createElement(Y.a,null,G.a.createElement("div",{className:"App"},G.a.createElement($,null),G.a.createElement(jt,null),G.a.createElement(Z.b,{exact:!0,path:"/",render:function(){return G.a.createElement(Z.a,{to:"/profile"})}}),G.a.createElement(Z.b,{path:"/profile/:userID?",render:function(){return G.a.createElement(nt,null)}}),G.a.createElement(Z.b,{path:"/dialogs",render:function(){return G.a.createElement(Ie,{chatListData:L.getState().dialogs.chatListData})}}),G.a.createElement(Z.b,{path:"/users/:page?",render:(e=Ct,function(t){return G.a.createElement(M.Suspense,{fallback:G.a.createElement(tt.a,null)},G.a.createElement(e,t))})}),G.a.createElement(Z.b,{path:"/login",render:function(){return G.a.createElement(Pt,null)}})))):G.a.createElement(tt.a,null);var e}}]),a}(G.a.Component),Mt=Object(K.b)((function(e){return{isInitialized:e.app.isInitialized}}),{initializeApp:function(){return function(e){Promise.all([e(S())]).then((function(){e({type:"INITIALIZATION-SUCCESSFUL"})}))}}})(Lt);C=L,W.a.render(G.a.createElement(Mt,{store:C}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(146),s=a.n(o),c=a(99),i=a.n(c);t.a=function(e){return r.a.createElement("div",{className:i.a.wrapper},r.a.createElement("img",{className:i.a.preloader,src:s.a,alt:"preloader"}))}},40:function(e,t,a){e.exports={userCard:"UserCard_userCard__1-7zo",userPhoto:"UserCard_userPhoto__1Elhb",fullName:"UserCard_fullName__3x0pm",photoUpload:"UserCard_photoUpload__16gYC",input:"UserCard_input__1wSMi",label:"UserCard_label__16qy1"}},41:function(e,t,a){e.exports={menu:"Sidebar_menu__1HeL0",sidebar:"Sidebar_sidebar__2WupE",menuItem:"Sidebar_menuItem__2W4d_",icon:"Sidebar_icon__3dSow",active:"Sidebar_active__37KeR",menuItemWrapper:"Sidebar_menuItemWrapper__1jpsN",menuItemText:"Sidebar_menuItemText__2MDWf",text:"Sidebar_text__2favi"}},47:function(e,t,a){e.exports={header:"Header_header__1v0yI",logo:"Header_logo__3T0lc",loginBlock:"Header_loginBlock__3g_eP",login:"Header_login__2sv5i",logout:"Header_logout__28K7C"}},67:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(22),r=a(23),o=a(25),s=a(24),c=a(0),i=a.n(c),u=a(29),l=a(9),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(c,t);var a=Object(s.a)(c);function c(){return Object(n.a)(this,c),a.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),c}(i.a.Component);return Object(l.b)(m)(t)}},70:function(e,t,a){e.exports={textInput:"ChatForm_textInput__2gOPz",button:"ChatForm_button__14G9u",chatForm:"ChatForm_chatForm__EZHBE"}},72:function(e,t,a){e.exports={post:"Post_post__1fwLD",main:"Post_main__2IGX7",footer:"Post_footer__2wSXa"}},73:function(e,t,a){e.exports={textInput:"PostForm_textInput__Oz3UR",postForm:"PostForm_postForm__22vtw",button:"PostForm_button__3ySUP"}},74:function(e,t,a){e.exports={statusWrapper:"Status_statusWrapper__2oGqm",clickToChange:"Status_clickToChange__18Tpn",noStatus:"Status_noStatus__QT0_H"}},75:function(e,t,a){e.exports={friendPreview:"FriendPreview_friendPreview__2MuzB",ava:"FriendPreview_ava__1K0iJ",name:"FriendPreview_name__3A73_"}},94:function(e,t,a){e.exports={chatPreview:"ChatPreview_chatPreview__1wVnh",active:"ChatPreview_active__3udgC"}},95:function(e,t,a){e.exports={wrapper:"Chat_wrapper__1fIyc",chat:"Chat_chat__Gu0Xn"}},98:function(e,t,a){e.exports={postsArea:"PostsArea_postsArea__3-wXj",list:"PostsArea_list__3xffC"}},99:function(e,t,a){e.exports={wrapper:"Preloader_wrapper__154ZL"}}},[[180,1,2]]]);
//# sourceMappingURL=main.ee9f51f6.chunk.js.map