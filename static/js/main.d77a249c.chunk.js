(this.webpackJsonpnonamenetwork=this.webpackJsonpnonamenetwork||[]).push([[0],{107:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return h}));var n=a(39),r=a(2),o=a(13),s={usersData:[],pageSize:25,totalUsersCount:0,currentPage:1,isFetching:!1,followingIsInProgress:!1,inProgress:[]},i=function(e,t){return function(a){a(f(!0)),a(d(t)),o.c.getUsers(e,t).then((function(e){a(p(e.items,e.totalCount)),a(f(!1))}))}},c=function(e){return function(t){t(f(!0)),t(h(!0)),t(b(e)),o.c.follow(e).then((function(a){a.resultCode?alert("\u043e\u0448\u0438\u0431\u043a\u0430"):t(l(e)),t(f(!1)),t(h(!1)),t(E(e))}))}},u=function(e){return function(t){t(f(!0)),t(h(!0)),t(b(e)),o.c.unFollow(e).then((function(a){a.resultCode?alert("\u043e\u0448\u0438\u0431\u043a\u0430"):t(m(e)),t(f(!1)),t(h(!1)),t(E(e))}))}},l=function(e){return{type:"FOLLOW-USER",id:e}},m=function(e){return{type:"UNFOLLOW-USER",id:e}},p=function(e,t){return{type:"SET-USERS",usersData:e,totalUsersCount:t}},d=function(e){return{type:"SET-PAGE",page:e}},f=function(e){return{type:"TOGGLE-IS-FETCHING",status:e}},h=function(e){return{type:"TOGGLE-FOLLOWING-IS-IN-PROGRESS",status:e}},b=function(e){return{type:"PUSH-IN-PROGRESS",id:e}},E=function(e){return{type:"CLEAR-IN-PROGRESS",id:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW-USER":return Object(r.a)(Object(r.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW-USER":return Object(r.a)(Object(r.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.id?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(r.a)(Object(r.a)({},e),{},{usersData:t.usersData,totalUsersCount:t.totalUsersCount});case"SET-PAGE":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.page});case"TOGGLE-IS-FETCHING":return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.status});case"TOGGLE-FOLLOWING-IS-IN-PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{followingIsInProgress:t.status});case"PUSH-IN-PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{inProgress:[].concat(Object(n.a)(e.inProgress),[t.id])});case"CLEAR-IN-PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{inProgress:Object(n.a)(e.inProgress.filter((function(e){return e!==t.id})))});default:return e}}},13:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(134),r=n.create({withCredentials:!0,headers:{"API-KEY":"f30d1f69-987f-4126-a37c-bee89a18b776"},baseURL:"https://social-network.samuraijs.com/api/1.0"}),o={getUsers:function(e,t){return r.get("/users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("/follow/".concat(e)).then((function(e){return e.data}))},unFollow:function(e){return r.delete("/follow/".concat(e)).then((function(e){return e.data}))}},s={getProfile:function(e){return r.get("/profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return r.get("/profile/status/".concat(e)).then((function(e){return e.data}))},updateUserStatus:function(e){return r.put("/profile/status",{status:e}).then((function(e){return e.data}))},updateUserPhoto:function(e){var t=new FormData;return t.append("image",e),r.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},updateUserInfo:function(e){return r.put("/profile",e).then((function(e){return e.data}))}},i={me:function(){return r.get("/auth/me").then((function(e){return e.data}))},login:function(e,t,a){return r.post("/auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},logout:function(){return r.delete("/auth/login").then((function(e){return e.data}))}}},138:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__2xRSA"}},139:function(e,t,a){e.exports={chatList:"ChatList_chatList__7ib65"}},140:function(e,t,a){e.exports={message:"Message_message__2MFzr"}},141:function(e,t,a){e.exports={profile:"Profile_profile__3dzvr"}},142:function(e,t,a){e.exports=a.p+"static/media/like.b3ada311.png"},143:function(e,t,a){e.exports={profile:"ProfileMain_profile__M_8n2"}},144:function(e,t,a){e.exports=a.p+"static/media/preloader.3c6b6920.svg"},145:function(e,t,a){e.exports={navbarFriendList:"NavbarFriendList_navbarFriendList__30dlk"}},146:function(e,t,a){e.exports={loginWrapper:"Login_loginWrapper__3Cr7b"}},172:function(e,t,a){e.exports=a(296)},22:function(e,t,a){e.exports={userInfo:"UserInfo_userInfo__3Tkif",jobAndAboutMeWrapper:"UserInfo_jobAndAboutMeWrapper__hMp64",contactsWrapper:"UserInfo_contactsWrapper__HNZ0o",noInfo:"UserInfo_noInfo__2Smhx",materialIcons:"UserInfo_materialIcons__1nqc7"}},23:function(e,t,a){e.exports={editInfoForm:"EditInfoForm_editInfoForm__1Grlu",jobAndAboutMeContainer:"EditInfoForm_jobAndAboutMeContainer__1OoCD",contactsWrapper:"EditInfoForm_contactsWrapper__1tvZR",field:"EditInfoForm_field__3kKaI",summaryError:"EditInfoForm_summaryError__KKFL2"}},254:function(e,t,a){},26:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(144),s=a.n(o),i=[{position:"fixed",top:"20%",left:"50%",transform:"scale(1.2)"},{position:"fixed",top:"50vh",left:"50vh"},{position:"absolute",transform:"scale(0.2)"}];t.a=function(e){return r.a.createElement("img",{style:e.id?i[e.id]:i[0],src:s.a,alt:"preloader"})}},28:function(e,t,a){e.exports={loginForm:"LoginForm_loginForm__2odaZ",field:"LoginForm_field__19mbA",error:"LoginForm_error__1fkG8",checkboxText:"LoginForm_checkboxText__3qLGi",label:"LoginForm_label__2F0OV",checkbox:"LoginForm_checkbox__39grx",button:"LoginForm_button__19IMv",errorSpan:"LoginForm_errorSpan__3OLQl",warningSpan:"LoginForm_warningSpan__1zvPE",summaryError:"LoginForm_summaryError__3gaP5"}},296:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(7),r=a(133),o=a(39),s=a(2),i=a(13),c=a(29),u={postsData:[{id:1,text:"\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"},{id:2,text:"\u042f \u0442\u0435\u0431\u0435 \u0441\u043a\u0430\u0436\u0443, \u0431\u0435\u0437\u0434\u0435\u043b\u044c\u0435 - \u044d\u0442\u043e \u0438\u0433\u0440\u0443\u0448\u043a\u0430 \u0434\u044c\u044f\u0432\u043e\u043b\u0430, \u044d\u0442\u043e \u0432\u043e-\u043f\u0435\u0440\u0432\u044b\u0445. \u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0437\u0430\u043d\u0438\u043c\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u043f\u043e\u0440\u0442\u043e\u043c, \u043d\u0435 \u043d\u0430\u0434\u043e \u0442\u0430\u043c \u043f\u043e \u0443\u0433\u043b\u0430\u043c \u043a\u0443\u0440\u0438\u0442\u044c, \u0448\u0430\u0431\u0438\u0442\u044c, \u0434\u0440\u043e\u0447\u0438\u0442\u044c, \u043c\u0430\u0441\u0442\u0443\u0440\u0431\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043c\u043d\u043e\u0433\u0438\u0435 \u043e\u0434\u043d\u043e \u0438 \u0442\u043e \u0436\u0435, \u0435\u0441\u0442\u044c \u0436\u0438, \u043f\u0440\u043e\u0441\u0442\u043e \u0431\u0435\u0437\u0434\u0435\u043b\u044c\u0435 - \u044d\u0442\u043e \u0438\u0433\u0440\u0443\u0448\u043a\u0430 \u0434\u044c\u044f\u0432\u043e\u043b\u0430, \u044f \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0441\u044c \u0435\u0436\u0438 \u043d\u0443 \u0432\u0435\u0441\u044c \u043c\u0438\u0440 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0438\u0432 \u043c\u0435\u043d\u044f \u044f \u043f\u0440\u0430\u0432 \u0435\u0436\u0438 \u044f \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u043b\u044f\u044e\u0441\u044c \u044d\u0442\u0438\u043c \u0435\u0436\u0438 \u0430 \u0442\u0430\u043a \u043f\u0430\u0446\u0430\u043d\u044b \u0433\u043e\u043b\u043e\u0432\u0443 \u043d\u0435 \u0442\u0435\u0440\u044f\u0439\u0442\u0435 \u0432\u043e \u043f\u0435\u0440\u0432\u044b\u0445 \u0438 \u0432\u0441\u0435\u0445 \u0431\u043b\u0430\u0433 \u0432\u0430\u043c?"},{id:3,text:"\u0435\u0431\u043e\u043c\u043e\u043d\u044b\u0439 \u043e\u0431\u044d\u043c\u0430 \u0431\u043b\u044f\u0434\u044c"},{id:4,text:"\u042f \u0432 \u0441\u0432\u043e\u0451\u043c \u043f\u043e\u0437\u043d\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u043b\u0441\u044f, \u0447\u0442\u043e \u043a\u0430\u043a \u0431\u0443\u0434\u0442\u043e \u0431\u044b \u0443\u0436\u0435 100 \u0442\u0440\u0438\u043b\u043b\u0438\u043e\u043d\u043e\u0432 \u043c\u0438\u043b\u043b\u0438\u0430\u0440\u0434\u043e\u0432 \u043b\u0435\u0442 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u044e \u043d\u0430 \u0442\u0440\u0438\u043b\u043b\u0438\u043e\u043d\u0430\u0445 \u0438 \u0442\u0440\u0438\u043b\u043b\u0438\u043e\u043d\u0430\u0445 \u0442\u0430\u043a\u0438\u0445 \u0436\u0435 \u043f\u043b\u0430\u043d\u0435\u0442, \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0448\u044c?"}],isFetching:!1,userID:"",userStatus:"",userInfo:{aboutMe:null,contacts:{},fullName:"",lookingForAJob:!1,lookingForAJobDescription:null,photos:{small:"",large:""},userId:null}},l=function(e,t){return{type:"SET-USER-INFO",userInfo:e,withoutPhotos:t}},m=function(e){return{type:"TOGGLE-IS-FETCHING",status:e}},p=function(e){return{type:"SET-USER-STATUS",userStatus:e}},d=function(e){return{type:"SET-USER-ID",userID:e}},f=function(e){return{type:"SET-NEW-USER-PHOTOS",photos:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":if(t.postText){var a=Object(s.a)(Object(s.a)({},e),{},{postsData:[].concat(Object(o.a)(e.postsData),[{id:e.postsData[e.postsData.length-1].id+1,text:t.postText}])});return a}return e;case"TOGGLE-IS-FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.status});case"SET-USER-INFO":if(t.withoutPhotos){var n=e.userInfo.photos;return Object(s.a)(Object(s.a)({},e),{},{userInfo:Object(s.a)(Object(s.a)({},t.userInfo),{},{photos:n})})}return Object(s.a)(Object(s.a)({},e),{},{userInfo:Object(s.a)({},t.userInfo)});case"SET-USER-ID":return Object(s.a)(Object(s.a)({},e),{},{userID:t.userID});case"SET-USER-STATUS":return Object(s.a)(Object(s.a)({},e),{},{userStatus:t.userStatus});case"SET-NEW-USER-PHOTOS":return Object(s.a)(Object(s.a)({},e),{},{userInfo:Object(s.a)(Object(s.a)({},e.userInfo),{},{photos:t.photos})});default:return e}},b={messagesData:[{id:1,text:"\u041f\u0440\u0438\u0432\u0435\u0442"},{id:2,text:"\u0427\u0435 \u043a\u0430\u043a \u0441\u0430\u043c?"},{id:3,text:"\u041e\u0439 \u0432\u0441\u0451"},{id:4,text:"\u041f\u043e\u043a\u0430, \u0443\u0440\u043e\u0434"}],newMessageText:"\u0445\u0443\u0439",chatListData:[{id:1,name:"\u041d\u0438\u043d\u0430",surname:"\u0418\u0432\u0430\u043d\u043e\u0432\u0430"},{id:2,name:"\u041f\u0435\u0442\u044f",surname:"\u0412\u0430\u0441\u0438\u043d"},{id:3,name:"\u0416\u043e\u0440\u0430",surname:"\u041a\u0438\u0440\u0438\u043b\u043b\u043e\u0432"},{id:4,name:"\u0412\u0435\u0440\u0430",surname:"\u0414\u0438\u043c\u043e\u0432\u0430"},{id:5,name:"\u0422\u0430\u043d\u044f",surname:"\u0422\u0430\u043d\u0438\u043d\u0430"}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":if(t.messageText){var a=Object(s.a)(Object(s.a)({},e),{},{messagesData:[].concat(Object(o.a)(e.messagesData),[{id:e.messagesData[e.messagesData.length-1].id+1,text:t.messageText}])});return a}return e;case"UPDATE-NEW-MESSAGE-TEXT":var n=Object(s.a)(Object(s.a)({},e),{},{newMessageText:t.text});return n;default:return e}},g={friendsData:[{id:1,name:"\u041d\u0438\u043d\u0430",surname:"\u0418\u0432\u0430\u043d\u043e\u0432\u0430"},{id:2,name:"\u0412\u0430\u0441\u044f",surname:"\u0412\u0430\u0441\u0438\u043d"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return t.type,e},v=a(107),S={userID:null,email:null,login:null,isFetching:!1,isAuth:!0},I=function(){return function(e){return e(U(!0)),i.a.me().then((function(t){0===t.resultCode?(e(N(t.data.id,t.data.email,t.data.login)),e(F())):e(j()),e(U(!1))}))}},O=function(){return function(e){e(U(!0)),i.a.logout().then((function(t){0===t.resultCode&&(e(N(null,null,null)),e(j())),e(U(!1))}))}},N=function(e,t,a){return{type:"SET-AUTH-DATA",authData:{userID:e,email:t,login:a}}},j=function(){return{type:"SET-IS-AUTH-FALSE"}},F=function(){return{type:"SET-IS-AUTH-TRUE"}},U=function(e){return{type:"TOGGLE-IS-FETCHING",status:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH-DATA":return Object(s.a)(Object(s.a)({},e),t.authData);case"TOGGLE-IS-FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.status});case"SET-IS-AUTH-FALSE":return Object(s.a)(Object(s.a)({},e),{},{isAuth:!1});case"SET-IS-AUTH-TRUE":return Object(s.a)(Object(s.a)({},e),{},{isAuth:!0});default:return e}},y=a(132),w={isInitialized:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZATION-SUCCESSFUL":return Object(s.a)(Object(s.a)({},e),{},{isInitialized:!0});default:return e}},x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.d,A=Object(n.c)({profile:h,dialogs:E,sidebar:_,users:v.a,auth:k,form:y.a,app:D}),T=Object(n.e)(A,x(Object(n.a)(r.a)));window.store=T;var P,C,L=T,M=a(0),G=a.n(M),R=a(64),W=a.n(R),H=a(17),z=a(18),J=a(20),B=a(19),K=(a(254),a(9)),V=a(46),X=a.n(V),Z=a(30),q=a(16),Y=function(e){return e.authData.isAuth?G.a.createElement("header",{className:X.a.header},G.a.createElement("div",{className:X.a.logo},"NoNameNetwork"),G.a.createElement("div",{className:X.a.loginBlock},e.authData.isAuth?G.a.createElement(q.b,{to:"/settings"},G.a.createElement("span",{className:X.a.login},"logged in "),e.authData.login?"as "+e.authData.login:null):G.a.createElement(q.b,{to:"/login"},"login ")),e.authData.isAuth?G.a.createElement("div",{onClick:e.logout,className:X.a.logout},"Logout"):null):G.a.createElement(Z.a,{to:"/login"})},Q=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){return G.a.createElement(Y,this.props)}}]),a}(G.a.Component),$=Object(K.b)((function(e){return{authData:e.auth}}),{logout:O})(Q),ee=a(138),te=a.n(ee),ae=a(139),ne=a.n(ae),re=a(94),oe=a.n(re),se=function(e){return G.a.createElement(q.b,{className:oe.a.chatPreview,to:"/dialogs/"+e.id,activeClassName:oe.a.active},e.name)},ie=function(e){var t=e.chatListData.map((function(e){return G.a.createElement(se,{key:e.id,id:e.id,name:e.name})}));return G.a.createElement("div",{className:ne.a.chatList},t)},ce=a(95),ue=a.n(ce),le=a(140),me=a.n(le),pe=function(e){return G.a.createElement("div",{className:me.a.message},e.text)},de=a(130),fe=a(131),he=a(70),be=a.n(he),Ee=Object(fe.a)({form:"chat"})((function(e){return G.a.createElement("form",{className:be.a.chatForm,onSubmit:e.handleSubmit},G.a.createElement("span",null,G.a.createElement(de.a,{className:be.a.textInput,name:"messageText",component:"input",placeholder:"Your message"})),G.a.createElement("button",{className:be.a.button},"Send"))})),ge=function(e){var t=e.messagesData.map((function(e){return G.a.createElement(pe,{key:e.id,id:e.id,text:e.text})}));return G.a.createElement("div",{className:ue.a.wrapper},G.a.createElement("div",{className:ue.a.chat},t),G.a.createElement(Ee,{onSubmit:function(t){e.sendMessage(t.messageText),t.messageText=""}}))},_e=a(66),ve=Object(n.d)(Object(K.b)((function(e){return{messagesData:e.dialogs.messagesData}}),{sendMessage:function(e){return{type:"SEND-MESSAGE",messageText:e}}}),_e.a)(ge),Se=function(e){return G.a.createElement("div",{className:te.a.dialogs},G.a.createElement(ie,{chatListData:e.chatListData}),G.a.createElement(ve,null))},Ie=a(141),Oe=a.n(Ie),Ne=a(98),je=a.n(Ne),Fe=a(72),Ue=a.n(Fe),ke=a(142),ye=a.n(ke),we=function(e){return G.a.createElement("div",{className:Ue.a.post},G.a.createElement("div",{className:Ue.a.main},e.text||"default text"),G.a.createElement("div",{className:Ue.a.footer},"0 ",G.a.createElement("img",{src:ye.a,alt:"like"}),"| 0 reposts"))},De=a(73),xe=a.n(De),Ae=Object(fe.a)({form:"post"})((function(e){return G.a.createElement("form",{className:xe.a.postForm,onSubmit:e.handleSubmit},G.a.createElement("span",null,G.a.createElement(de.a,{className:xe.a.textInput,name:"postText",component:"input",placeholder:"What's up, dude?"})),G.a.createElement("button",{className:xe.a.button},"Send"))})),Te=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"shouldComponentUpdate",value:function(e,t,a){return e!==this.props||t!==this.state}},{key:"onSubmit",value:function(e){this.props.addPost(e.postText),e.postText=""}},{key:"render",value:function(){var e=this.props.postsData.map((function(e){return G.a.createElement(we,{key:e.id,id:e.id,text:e.text})}));return G.a.createElement("div",{className:je.a.postsArea},G.a.createElement(Ae,{onSubmit:this.onSubmit.bind(this)}),G.a.createElement("div",{className:je.a.list},e))}}]),a}(G.a.Component),Pe=Object(n.d)(Object(K.b)((function(e){return{postsData:e.profile.postsData,newPostText:e.profile.newPostText}}),{addPost:function(e){return{type:"ADD-POST",postText:e}}}),_e.a)(Te),Ce=a(143),Le=a.n(Ce),Me=a(40),Ge=a.n(Me),Re=a(74),We=a.n(Re),He=a(26),ze=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,userStatus:e.props.userStatus,isFetching:!1},e.activateEditMode=function(){e.props.id===e.props.authorizedUserID&&e.setState({editMode:!0})},e.deactivateEditMode=function(){e.props.updateUserStatus(e.state.userStatus),e.setState({editMode:!1})},e.onUserStatusChange=function(t){e.setState({userStatus:t.currentTarget.value})},e}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserStatus(this.props.id)}},{key:"componentDidUpdate",value:function(e,t){this.props.getUserStatus(this.props.id),e.userStatus!==this.props.userStatus&&this.setState({userStatus:this.props.userStatus}),e.id!==this.props.id&&this.props.getUserStatus(this.props.id)}},{key:"render",value:function(){return G.a.createElement(G.a.Fragment,null,this.state.isFetching?G.a.createElement(He.a,{id:2}):G.a.createElement("div",{className:We.a.statusWrapper},this.state.editMode?G.a.createElement("div",null,G.a.createElement("input",{onChange:this.onUserStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.userStatus})):G.a.createElement("div",{onClick:this.activateEditMode},G.a.createElement("span",null," ",this.props.userStatus?G.a.createElement(G.a.Fragment,null,G.a.createElement("span",null,this.props.userStatus),G.a.createElement("span",null,this.props.id===this.props.authorizedUserID?G.a.createElement("span",{className:We.a.clickToChange},"click to change"):null)):G.a.createElement("span",{className:We.a.noStatus},this.props.id===this.props.authorizedUserID?"no status (click to change)":"no status")," "))))}}]),a}(G.a.Component),Je=function(e){var t=e.userInfo.photos.large||"https://www.nelson-chambers.co.uk/front/images/default-user.jpg";return G.a.createElement("div",{className:Ge.a.userCard},G.a.createElement("div",{className:Ge.a.userPhoto},G.a.createElement("img",{src:t,alt:""})),G.a.createElement("div",{className:Ge.a.fullName},e.userInfo.fullName),G.a.createElement(ze,{authorizedUserID:e.authorizedUserID,id:e.id,userStatus:e.userStatus,getUserStatus:e.getUserStatus,updateUserStatus:e.updateUserStatus}),G.a.createElement("div",{className:Ge.a.photoUpload},e.id===e.authorizedUserID?G.a.createElement("label",{className:Ge.a.label},"CHANGE PHOTO",G.a.createElement("input",{name:"uploadPhoto",className:Ge.a.input,onChange:function(t){t.target.files.length&&e.updateUserPhoto(t.target.files[0])},type:"file"})):null))},Be=a(67),Ke=a(22),Ve=a.n(Ke),Xe=a(23),Ze=a.n(Xe),qe=Object(fe.a)({form:"userInfo"})((function(e){var t=function(e){var t=e.input,a=e.placeholder,n=e.type,r=e.meta;r.touched,r.error,r.warning;return G.a.createElement("span",null,G.a.createElement("input",Object.assign({},t,{className:Ze.a.field,placeholder:a,type:n})))};return G.a.createElement("form",{onSubmit:e.handleSubmit,className:Ze.a.editInfoForm},G.a.createElement("div",{className:Ze.a.jobAndAboutMeContainer},G.a.createElement("div",{className:Ze.a.fullName},G.a.createElement("b",null,"Fullname:"),G.a.createElement(de.a,{name:"fullName",component:t,type:"text"})),G.a.createElement("div",{className:Ze.a.lookingForAJob},G.a.createElement("b",null,"Looking for a job right now:"),G.a.createElement(de.a,{name:"lookingForAJob",component:t,type:"checkbox"})),G.a.createElement("div",{className:Ze.a.lookingForAJobDescription},G.a.createElement("b",null,"My professional skills:"),G.a.createElement(de.a,{name:"lookingForAJobDescription",component:t,placeholder:"Tell something about your professional skills",type:"text"})),G.a.createElement("div",{className:Ze.a.aboutMe},G.a.createElement("b",null,"About Me:"),G.a.createElement(de.a,{name:"aboutMe",component:t,placeholder:"Tell something about yourself",type:"text"}))),G.a.createElement("div",{className:Ze.a.contactsWrapper},G.a.createElement("div",null,G.a.createElement("b",null,"Github"),G.a.createElement(de.a,{name:"github",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"VK"),G.a.createElement(de.a,{name:"vk",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Website"),G.a.createElement(de.a,{name:"website",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Youtube"),G.a.createElement(de.a,{name:"youtube",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Instagram"),G.a.createElement(de.a,{name:"instagram",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Facebook"),G.a.createElement(de.a,{name:"facebook",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"Twitter"),G.a.createElement(de.a,{name:"twitter",component:t,placeholder:"",type:"text"})),G.a.createElement("div",null,G.a.createElement("b",null,"MainLink"),G.a.createElement(de.a,{name:"mainLink",component:t,placeholder:"",type:"text"})),G.a.createElement("button",{className:Ze.a.saveChangesButton},"SAVE CHANGES")),e.error?G.a.createElement("div",{className:Ze.a.summaryError},e.error):null)})),Ye=function(e){var t=Object(M.useState)(!1),a=Object(Be.a)(t,2),n=a[0],r=a[1],o=function(e,t){return G.a.createElement("div",{className:Ve.a.contact},G.a.createElement("b",null,e,":")," ",t||G.a.createElement("span",{className:Ve.a.noInfo},"no info"))},i={fullName:e.userInfo.fullName,lookingForAJob:e.userInfo.lookingForAJob,lookingForAJobDescription:e.userInfo.lookingForAJobDescription,aboutMe:e.userInfo.aboutMe,github:e.userInfo.contacts.github,vk:e.userInfo.contacts.vk,website:e.userInfo.contacts.website,youtube:e.userInfo.contacts.youtube,instagram:e.userInfo.contacts.instagram,facebook:e.userInfo.contacts.facebook,twitter:e.userInfo.contacts.twitter,mainLink:e.userInfo.contacts.mainLink};return n?G.a.createElement(qe,Object.assign({initialValues:Object(s.a)({},i),onSubmit:function(t){var a={aboutMe:t.aboutMe,contacts:{facebook:t.facebook,github:t.github,instagram:t.instagram,mainLink:t.mainLink,twitter:t.twitter,vk:t.vk,website:t.website,youtube:t.youtube},lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName};e.updateUserInfo(a).then((function(){r(!1)}))}},e.userInfo,{editMode:n})):G.a.createElement("div",{className:Ve.a.userInfo},G.a.createElement("div",{className:Ve.a.jobAndAboutMeWrapper},G.a.createElement("div",{className:Ve.a.lookingForAJob},G.a.createElement("b",null,"Am I looking for a job right now:")," ",e.userInfo.lookingForAJob?"yes":"no"),G.a.createElement("div",{className:Ve.a.lookingForAJobDescription},G.a.createElement("b",null,"My professional skills:")," ",e.userInfo.lookingForAJobDescription||G.a.createElement("span",{className:Ve.a.noInfo},"no info")),G.a.createElement("div",{className:Ve.a.aboutMe},G.a.createElement("b",null,"About Me:")," ",e.userInfo.aboutMe||G.a.createElement("span",{className:Ve.a.noInfo},"no info"))),G.a.createElement("div",{className:Ve.a.contactsWrapper},o("Github",e.userInfo.contacts.github),o("VK",e.userInfo.contacts.vk),o("Website",e.userInfo.contacts.website),o("Youtube",e.userInfo.contacts.github),o("Instagram",e.userInfo.contacts.instagram),o("Facebook",e.userInfo.contacts.facebook),o("Twitter",e.userInfo.contacts.twitter),o("MainLink",e.userInfo.contacts.mainLink),e.authorizedUserID===e.id?G.a.createElement("button",{onClick:function(){r(!0)},className:Ve.a.activateEditModeButton},"MAKE CHANGES"):null))},Qe=function(e){return G.a.createElement("div",{className:Le.a.profile},G.a.createElement(Je,e),G.a.createElement(Ye,e))},$e=function(e){return G.a.createElement("main",{className:Oe.a.profile},G.a.createElement(Qe,e),G.a.createElement(Pe,null))},et=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){return Object(H.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.authorizedUserID),this.props.getProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return G.a.createElement(G.a.Fragment,null,!0===this.props.isFetching?G.a.createElement(He.a,null):null,G.a.createElement($e,this.props))}}]),a}(G.a.Component),tt=Object(n.d)(Object(K.b)((function(e){return{isFetching:e.profile.isFetching,userInfo:e.profile.userInfo,userStatus:e.profile.userStatus,authorizedUserID:Number(e.auth.userID),id:Number(e.profile.userID)}}),{toggleIsFetching:m,setUserInfo:l,getProfile:function(e){return function(t){e||(e=7340),t(d(e)),t(m(!0)),i.b.getProfile(e).then((function(e){t(l(e)),t(m(!1))}))}},getUserStatus:function(e){return function(t){e&&i.b.getUserStatus(e).then((function(e){e.resultCode?alert(e.messages[0]):t(p(e))}))}},updateUserStatus:function(e){return function(t){i.b.updateUserStatus(e).then((function(a){a.resultCode?alert(a.messages[0]):t(p(e))}))}},updateUserPhoto:function(e){return function(t){i.b.updateUserPhoto(e).then((function(e){e.resultCode?alert(e.messages[0]):t(f(e.data.photos))}))}},updateUserInfo:function(e){return function(t){return i.b.updateUserInfo(e).then((function(a){if(a.resultCode){var n=a.messages.length>0?a.messages[0]:"some error";return t(Object(c.a)("userInfo",{_error:n})),alert(a.messages[0]),Promise.reject(a.messages[0])}t(l(e,!0))}))}}}),Z.f)(et),at=a(35),nt=a.n(at),rt=a(145),ot=a.n(rt),st=a(75),it=a.n(st),ct=function(e){return G.a.createElement("div",{className:it.a.friendPreview},G.a.createElement("div",{className:it.a.ava}),G.a.createElement("div",{className:it.a.name},e.name))},ut=function(e){var t=e.friendsData.map((function(e){return G.a.createElement(ct,{key:e.id,id:e.id,name:e.name})}));return G.a.createElement("div",{className:ot.a.navbarFriendList},t)},lt=function(e){var t=function(e){var t=e.to,a=e.pageName,n=e.icon,r=Object(M.useState)(!1),o=Object(Be.a)(r,2),s=o[0],i=o[1];return G.a.createElement("div",{className:nt.a.menuItem},s?G.a.createElement("span",{className:nt.a.text},a):null,G.a.createElement(q.b,{onMouseOver:function(){return i(!0)},onMouseOut:function(){return i(!1)},className:nt.a.icon,to:"/"+t,activeClassName:nt.a.active},G.a.createElement("i",{className:nt.a.materialIcons},n)))};return G.a.createElement("nav",{className:nt.a.sidebar},G.a.createElement("div",{className:nt.a.menu},G.a.createElement(t,{to:"profile",pageName:"Profile",icon:"person"}),G.a.createElement(t,{to:"dialogs",pageName:"Dialogs",icon:"chat"}),G.a.createElement(t,{to:"feed",pageName:"Feed",icon:"view_agenda"}),G.a.createElement(t,{to:"users",pageName:"Users",icon:"group"}),G.a.createElement(t,{to:"music",pageName:"Music",icon:"audiotrack"}),G.a.createElement(t,{to:"settings",pageName:"Settings",icon:"settings"})),G.a.createElement(ut,{friendsData:e.state.friendsData}))},mt=Object(K.b)((function(e){return{authorizedUserID:e.auth.userID,state:e.sidebar}}))(lt),pt=a(146),dt=a.n(pt),ft=a(28),ht=a.n(ft),bt=function(e){return e?void 0:"required"},Et=(P=50,function(e){return e&&e.length>P?"must be ".concat(P," characters or less"):void 0}),gt=function(e){var t=e.input,a=e.placeholder,n=e.type,r=e.meta,o=r.touched,s=r.error,i=r.warning,c=o&&s;return G.a.createElement("div",null,G.a.createElement("input",Object.assign({},t,{className:ht.a.field+" "+(c?ht.a.error:""),placeholder:a,type:n})),o&&(s&&G.a.createElement("span",{className:ht.a.errorSpan}," ",s," ")||i&&G.a.createElement("span",{className:ht.a.warningSpan}," ",i," ")))},_t=Object(fe.a)({form:"login"})((function(e){return G.a.createElement("form",{onSubmit:e.handleSubmit,className:ht.a.loginForm},G.a.createElement("div",null,G.a.createElement(de.a,{type:"email",name:"email",component:gt,placeholder:"Email",validate:[bt,Et]})),G.a.createElement("div",null,G.a.createElement(de.a,{type:"password",name:"password",component:gt,placeholder:"Password",validate:[bt,Et]})),G.a.createElement("div",null,G.a.createElement("label",{className:ht.a.label},G.a.createElement(de.a,{type:"checkbox",name:"rememberMe",component:"input"}),G.a.createElement("span",{className:ht.a.checkboxText},"remember me"))),G.a.createElement("button",{className:ht.a.button},"Login"),e.error?G.a.createElement("div",{className:ht.a.summaryError},e.error):null)})),vt=function(e){return e.isAuth?G.a.createElement(Z.a,{to:"/profile"}):G.a.createElement(G.a.Fragment,null,!0===e.isFetching?G.a.createElement(He.a,null):null,G.a.createElement("div",{className:dt.a.loginWrapper},G.a.createElement("span",null,"SIGN UP or SIGN IN"),G.a.createElement("div",null,"https://social-network.samuraijs.com/login"),G.a.createElement(_t,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})))},St=Object(K.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.auth.isFetching}}),{login:function(e,t,a){return function(n){n(U(!0)),i.a.login(e,t,a).then((function(e){if(0===e.resultCode)n(I());else{var t=e.messages.length>0?e.messages[0]:"Some error";n(Object(c.a)("login",{_error:t})),n(U(!1))}}))}},logout:O})(vt),It=G.a.lazy((function(){return a.e(3).then(a.bind(null,299))})),Ot=function(e){Object(J.a)(a,e);var t=Object(B.a)(a);function a(){var e;Object(H.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(){alert("Some error occured :(")},e}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledRejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledRejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.isInitialized?G.a.createElement(K.a,{store:L},G.a.createElement(q.a,null,G.a.createElement("div",{className:"App"},G.a.createElement($,null),G.a.createElement(mt,null),G.a.createElement(Z.b,{exact:!0,path:"/",render:function(){return G.a.createElement(Z.a,{to:"/profile"})}}),G.a.createElement(Z.b,{path:"/profile/:userID?",render:function(){return G.a.createElement(tt,null)}}),G.a.createElement(Z.b,{path:"/dialogs",render:function(){return G.a.createElement(Se,{chatListData:L.getState().dialogs.chatListData})}}),G.a.createElement(Z.b,{path:"/users/:page?",render:(e=It,function(t){return G.a.createElement(M.Suspense,{fallback:G.a.createElement(He.a,null)},G.a.createElement(e,t))})}),G.a.createElement(Z.b,{path:"/login",render:function(){return G.a.createElement(St,null)}})))):G.a.createElement(He.a,null);var e}}]),a}(G.a.Component),Nt=Object(K.b)((function(e){return{isInitialized:e.app.isInitialized}}),{initializeApp:function(){return function(e){Promise.all([e(I())]).then((function(){e({type:"INITIALIZATION-SUCCESSFUL"})}))}}})(Ot);C=L,W.a.render(G.a.createElement(Nt,{store:C}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={menu:"Sidebar_menu__1HeL0",sidebar:"Sidebar_sidebar__2WupE",menuItem:"Sidebar_menuItem__2W4d_",icon:"Sidebar_icon__3dSow",active:"Sidebar_active__37KeR",menuItemWrapper:"Sidebar_menuItemWrapper__1jpsN",text:"Sidebar_text__2favi",materialIcons:"Sidebar_materialIcons__1sipP"}},40:function(e,t,a){e.exports={userCard:"UserCard_userCard__1-7zo",userPhoto:"UserCard_userPhoto__1Elhb",fullName:"UserCard_fullName__3x0pm",photoUpload:"UserCard_photoUpload__16gYC",input:"UserCard_input__1wSMi",label:"UserCard_label__16qy1"}},46:function(e,t,a){e.exports={header:"Header_header__1v0yI",logo:"Header_logo__3T0lc",loginBlock:"Header_loginBlock__3g_eP",login:"Header_login__2sv5i",logout:"Header_logout__28K7C"}},66:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(17),r=a(18),o=a(20),s=a(19),i=a(0),c=a.n(i),u=a(30),l=a(9),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(i,t);var a=Object(s.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),i}(c.a.Component);return Object(l.b)(m)(t)}},70:function(e,t,a){e.exports={textInput:"ChatForm_textInput__2gOPz",button:"ChatForm_button__14G9u",chatForm:"ChatForm_chatForm__EZHBE"}},72:function(e,t,a){e.exports={post:"Post_post__1fwLD",main:"Post_main__2IGX7",footer:"Post_footer__2wSXa"}},73:function(e,t,a){e.exports={textInput:"PostForm_textInput__Oz3UR",postForm:"PostForm_postForm__22vtw",button:"PostForm_button__3ySUP"}},74:function(e,t,a){e.exports={statusWrapper:"Status_statusWrapper__2oGqm",clickToChange:"Status_clickToChange__18Tpn",noStatus:"Status_noStatus__QT0_H"}},75:function(e,t,a){e.exports={friendPreview:"FriendPreview_friendPreview__2MuzB",ava:"FriendPreview_ava__1K0iJ",name:"FriendPreview_name__3A73_"}},94:function(e,t,a){e.exports={chatPreview:"ChatPreview_chatPreview__1wVnh",active:"ChatPreview_active__3udgC"}},95:function(e,t,a){e.exports={wrapper:"Chat_wrapper__1fIyc",chat:"Chat_chat__Gu0Xn"}},98:function(e,t,a){e.exports={postsArea:"PostsArea_postsArea__3-wXj",list:"PostsArea_list__3xffC"}}},[[172,1,2]]]);
//# sourceMappingURL=main.d77a249c.chunk.js.map