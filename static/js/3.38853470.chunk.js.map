{"version":3,"sources":["components/Users/Users.module.scss","../node_modules/classnames/index.js","components/common/Paginator/Pagination.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","Pagination","totalItemsCount","pageSize","currentPage","portionSize","onPageChange","urlPrefix","pagesCount","Math","ceil","pages","portionsCount","useState","portionNumber","setPortionNumber","firstPageInPortion","lastPageInPortion","className","onClick","filter","page","map","liClassName","classnames","to","Users","props","s","users","totalUsersCount","usersWrapper","usersData","item","id","userCard","ava","alt","name","src","photos","large","cardBody","followFooter","followed","disabled","followingIsInProgress","inProgress","some","a","onUnFollowClick","onFollowClick","getUsersData","state","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetchingUsers","isFetching","getFollowingIsInProgress","getInProgress","UsersContainer","pageNumber","setPage","requestUsers","requestFollow","requestUnFollow","this","match","params","Preloader","followUser","unFollowUser","React","Component","connect","toggleFollowingIsInProgress","withAuthRedirect"],"mappings":"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","file":"static/js/3.38853470.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3CRqz\",\"usersWrapper\":\"Users_usersWrapper__343ba\",\"userCard\":\"Users_userCard__2mlKw\",\"name\":\"Users_name__3WppJ\",\"ava\":\"Users_ava__2c-Fm\",\"cardBody\":\"Users_cardBody__2oy9q\",\"followFooter\":\"Users_followFooter__1b3WT\",\"id\":\"Users_id__hEB_E\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React, {useState} from \"react\";\nimport * as classnames from \"classnames\";\nimport {NavLink} from \"react-router-dom\";\n\nconst Pagination = ({totalItemsCount, pageSize, currentPage = 1, portionSize = 10, onPageChange, urlPrefix}) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    for (let i = 0; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionsCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let firstPageInPortion = (portionNumber - 1) * portionSize + 1;\n    let lastPageInPortion = portionNumber * portionSize;\n\n\n    return (\n        <nav>\n            <ul className='pagination justify-content-center mt-3' >\n                {portionNumber > 1 && <li className='page-item' onClick={() => setPortionNumber(portionNumber - 1)}>\n                    <span className='page-link'>PREV</span>\n                </li>}\n\n                {pages\n                    .filter(page => {\n                        return page >= firstPageInPortion && page <= lastPageInPortion\n                    })\n                    .map(page => {\n                        let liClassName = classnames('page-item', {'active': +page === currentPage});\n                        return <li className={liClassName} key={page}>\n                            <NavLink to={`/${urlPrefix}/${page}`} className='page-link' onClick={() => onPageChange(page)}>{page}</NavLink>\n                        </li>\n                    })}\n\n                {portionNumber < portionsCount && <li className='page-item' onClick={() => setPortionNumber(portionNumber + 1)}>\n                    <span className='page-link'>NEXT</span>\n                </li>}\n            </ul>\n        </nav>\n    )\n\n}\n\nexport default Pagination","import s from \"./Users.module.scss\";\nimport React from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport Pagination from \"../common/Paginator/Pagination\";\n\nconst Users = (props) => {\n\n    return <div className={s.users}>\n\n        <Pagination totalItemsCount={props.totalUsersCount}\n                   pageSize={props.pageSize} onPageChange={props.onPageChange}\n                   currentPage={props.currentPage} urlPrefix={'users'}/>\n\n        <div className={s.usersWrapper}>\n\n\n            {props.usersData.map(item => {\n                return <div key={item.id} className={s.userCard}>\n\n                    <NavLink to={'/profile/' + item.id}>\n                        <img className={s.ava}\n                             alt={item.name}\n                             src={item.photos.large ? item.photos.large : 'https://www.nelson-chambers.co.uk/front/images/default-user.jpg'}/>\n                    </NavLink>\n\n                    <div className={s.cardBody}>\n\n                        <div className={s.name}> {item.name} </div>\n                        <div className={s.id}> id: {item.id} </div>\n                    </div>\n\n                    <div className={s.followFooter}>\n                        {item.followed ?\n                            <button\n                                disabled={props.followingIsInProgress && props.inProgress.some(a => a === item.id)}\n                                onClick={() => props.onUnFollowClick(item.id)}>\n                                UNFOLLOW\n                            </button> :\n                            <button\n                                disabled={props.followingIsInProgress && props.inProgress.some(a => a === item.id)}\n                                onClick={() => props.onFollowClick(item.id)}>\n                                FOLLOW\n                            </button>\n                        }\n                    </div>\n                </div>\n            })}\n        </div>\n    </div>\n}\n\nexport default Users;","export const getUsersData = (state) => {\n    return state.users.usersData\n}\nexport const getPageSize = (state) => {\n    return state.users.pageSize\n}\nexport const getTotalUsersCount = (state) => {\n    return state.users.totalUsersCount\n}\nexport const getCurrentPage = (state) => {\n    return state.users.currentPage\n}\nexport const getIsFetchingUsers = (state) => {\n    return state.users.isFetching\n}\nexport const getFollowingIsInProgress = (state) => {\n    return state.users.followingIsInProgress\n}\n\nexport const getInProgress = (state) => {\n    return state.users.inProgress\n}","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader\";\nimport {\n    followUser,\n    unFollowUser,\n    setPage,\n    toggleFollowingIsInProgress,\n    requestUsers,\n    requestFollow,\n    requestUnFollow\n} from \"../../redux/usersReducer\"\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {\n    getCurrentPage, getFollowingIsInProgress, getInProgress,\n    getIsFetchingUsers,\n    getPageSize,\n    getTotalUsersCount,\n    getUsersData\n} from \"../../redux/usersSelectors\";\n\n// МЕТОДОМ SOME ДОБАВИТЬ ОТДЕЛЬНО ДИЗЕБЛЮЮЩИЕСЯ КНОПКИ ПОДПИСКИ\n\n\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        let page = this.props.match.params.page ? this.props.match.params.page : this.props.currentPage;\n        this.props.setPage(page);\n        this.props.requestUsers(this.props.pageSize, page)\n    }\n\n    onPageChange = (pageNumber) => {\n        this.props.setPage(pageNumber);\n        this.props.requestUsers(this.props.pageSize, pageNumber);\n    }\n\n    onFollowClick = (id) => {\n        this.props.requestFollow(id);\n    }\n\n    onUnFollowClick = (id) => {\n        this.props.requestUnFollow(id);\n    }\n\n    render() {\n\n        return <>\n            { this.props.isFetching === true ? <Preloader/> : null }\n            <Users onPageChange={ this.onPageChange }\n                      onFollowClick={this.onFollowClick}\n                      onUnFollowClick={this.onUnFollowClick}\n                      usersData={ this.props.usersData }\n                      pageSize={ this.props.pageSize }\n                      totalUsersCount={ this.props.totalUsersCount}\n                      currentPage={ this.props.currentPage }\n                      followUser={ this.props.followUser}\n                      unFollowUser={this.props.unFollowUser}\n                      followingIsInProgress={this.props.followingIsInProgress}\n                      inProgress={this.props.inProgress}\n                      setPage={this.props.setPage}\n            />\n            </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        usersData: getUsersData(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetchingUsers(state),\n        followingIsInProgress: getFollowingIsInProgress(state),\n        inProgress: getInProgress(state)\n    }\n}\n\nexport default connect(mapStateToProps, {\n    followUser, unFollowUser,\n    setPage, toggleFollowingIsInProgress,\n    requestUsers, requestFollow, requestUnFollow\n})(withAuthRedirect(UsersContainer))\n\n\n"],"sourceRoot":""}